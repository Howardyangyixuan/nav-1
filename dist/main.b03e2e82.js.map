{"version":3,"sources":["main.js"],"names":["$siteList","$","$last","find","x","localStorage","getItem","xObject","JSON","parse","hashMap","logo","logoType","url","simplifyUrl","replace","renderEach","node","index","$li","insertBefore","on","is_touch_device","console","log","window","location","href","open","e","stopPropagation","splice","render","remove","forEach","prompt","indexOf","simpleUrl","push","toUpperCase","onbeforeunload","string","stringify","setItem","document","key","i","length","toLowerCase","bool"],"mappings":"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","file":"main.b03e2e82.js","sourceRoot":"../src","sourcesContent":["const $siteList = $(\".siteList\");\n//   const $last = $(\".last\");\nconst $last = $siteList.find(\"li.last\");\nconst x = localStorage.getItem(\"x\");\nconst xObject = JSON.parse(x);\nlet hashMap = xObject || [\n  {\n    logo: \"A\",\n    logoType: \"Text\",\n    url: \"https://developer.mozilla.org\",\n  },\n  {\n    logo: \"W\",\n    logoType: \"Text\",\n    url: \"https://www.w3.org\",\n  },\n  {\n    logo: \"I\",\n    logoType: \"Text\",\n    url: \"https://www.iconfont.cn/\",\n  },\n  {\n    logo: \"B\",\n    logoType: \"Text\",\n    url: \"https://www.bootcdn.cn/\",\n  },\n  {\n    logo: \"D\",\n    logoType: \"Text\",\n    url: \"https://dribbble.com/\",\n  },\n];\nconst simplifyUrl = (url) => {\n  return url\n    .replace(\"https://\", \"\")\n    .replace(\"http://\", \"\")\n    .replace(\"www.\", \"\")\n    .replace(/\\/.*/, \"\");\n};\n//a标签跳转<a href=\"${node.url}\"></a>，改为js实现跳转\nconst renderEach = (node, index) => {\n  //   console.log(index);\n  const $li = $(`<li>\n    <div class=\"site\">\n        <div class=\"logo\">${node.logo}</div>\n        <div class=\"link\">${simplifyUrl(node.url)}</div>\n        <div class=\"close\"> \n         <svg class=\"icon\" aria-hidden=\"true\">\n          <use xlink:href=\"#icon-close\"></use>\n         </svg>\n        </div>\n    </div>\n    </li>`);\n  $li.insertBefore($last);\n  $li.on(\"click\", () => {\n    //新开窗口\n    if (is_touch_device()) {\n      console.log(\"是触屏设别\");\n      window.location.href = node.url;\n    } else {\n      window.open(node.url);\n    }\n  });\n\n  $li.on(\"click\", \".close\", (e) => {\n    e.stopPropagation();\n    hashMap.splice(index, 1);\n    render();\n    // console.log(index);\n  });\n};\nconst render = () => {\n  $siteList.find(\"li:not(.last\").remove();\n  hashMap.forEach(renderEach);\n};\nrender();\n$(\".addButton\").on(\"click\", () => {\n  let url = window.prompt(\"请输入要添加的网址\");\n  if (url.indexOf(\"http\") !== 0) {\n    url = \"https://\" + url;\n  }\n  const simpleUrl = simplifyUrl(url);\n  hashMap.push({\n    logo: simpleUrl[0].toUpperCase(),\n    logoType: \"Text\",\n    url: url,\n  });\n  console.log(url);\n  render();\n  //   console.log($siteList);\n  //   const $site = $(`<li>\n  //     <a href=\"${url}\">\n  //     <div class=\"site\">\n  //       <div class=\"logo\">${simpleUrl[0].toUpperCase()}</div>\n  //       <div class=\"link\">${simpleUrl}</div>\n  //     </div>\n  //   </a>\n  //   </li>`).insertBefore($last);\n});\nwindow.onbeforeunload = () => {\n  //   console.log(\"关闭\");\n  const string = JSON.stringify(hashMap);\n  //   console.log(typeof hashMap);\n  //   console.log(hashMap);\n  //   console.log(typeof string);\n  //   console.log(string);\n  window.localStorage.setItem(\"x\", string);\n};\n\n$(document).on(\"keypress\", (e) => {\n  const { key } = e;\n  for (let i = 0; i < hashMap.length; i++) {\n    if (hashMap[i].logo.toLowerCase() === key) {\n      window.location.href = hashMap[i].url;\n      break;\n    }\n  }\n});\nfunction is_touch_device() {\n  var bool;\n  if (\"ontouchstart\" in window) {\n    return true;\n  } else {\n    return false;\n  }\n}\n// $(\".info >.text\").on(\"click\", (e) => {});\n"]}