{"version":3,"sources":["main.js"],"names":["$siteList","$","$last","find","x","localStorage","getItem","xObject","JSON","parse","hashMap","logo","logoType","url","simplifyUrl","replace","renderEach","node","index","$li","insertBefore","on","window","location","href","e","stopPropagation","splice","render","remove","forEach","prompt","indexOf","simpleUrl","push","toUpperCase","console","log","onbeforeunload","string","stringify","setItem","document","key","i","length","toLowerCase"],"mappings":"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","file":"main.89f3a279.js","sourceRoot":"../src","sourcesContent":["const $siteList = $(\".siteList\");\n//   const $last = $(\".last\");\nconst $last = $siteList.find(\"li.last\");\nconst x = localStorage.getItem(\"x\");\nconst xObject = JSON.parse(x);\nlet hashMap = xObject || [\n  {\n    logo: \"A\",\n    logoType: \"Text\",\n    url: \"https://developer.mozilla.org\",\n  },\n  {\n    logo: \"W\",\n    logoType: \"image\",\n    url: \"https://www.w3.org\",\n  },\n];\nconst simplifyUrl = (url) => {\n  return url\n    .replace(\"https://\", \"\")\n    .replace(\"http://\", \"\")\n    .replace(\"www.\", \"\")\n    .replace(/\\/.*/, \"\");\n};\n//a标签跳转<a href=\"${node.url}\"></a>，改为js实现跳转\nconst renderEach = (node, index) => {\n  //   console.log(index);\n  const $li = $(`<li>\n    <div class=\"site\">\n        <div class=\"logo\">${node.logo}</div>\n        <div class=\"link\">${simplifyUrl(node.url)}</div>\n        <div class=\"close\"> \n         <svg class=\"icon\" aria-hidden=\"true\">\n          <use xlink:href=\"#icon-close\"></use>\n         </svg>\n        </div>\n    </div>\n    </li>`);\n  $li.insertBefore($last);\n  $li.on(\"click\", () => {\n    //新开窗口\n    // window.open(node.url);\n    window.location.href = node.url;\n  });\n\n  $li.on(\"click\", \".close\", (e) => {\n    e.stopPropagation();\n    hashMap.splice(index, 1);\n    render();\n    // console.log(index);\n  });\n};\nconst render = () => {\n  $siteList.find(\"li:not(.last\").remove();\n  hashMap.forEach(renderEach);\n};\nrender();\n$(\".addButton\").on(\"click\", () => {\n  let url = window.prompt(\"请输入要添加的网址\");\n  if (url.indexOf(\"http\") !== 0) {\n    url = \"https://\" + url;\n  }\n  const simpleUrl = simplifyUrl(url);\n  hashMap.push({\n    logo: simpleUrl[0].toUpperCase(),\n    logoType: \"Text\",\n    url: url,\n  });\n  console.log(url);\n  render();\n  //   console.log($siteList);\n  //   const $site = $(`<li>\n  //     <a href=\"${url}\">\n  //     <div class=\"site\">\n  //       <div class=\"logo\">${simpleUrl[0].toUpperCase()}</div>\n  //       <div class=\"link\">${simpleUrl}</div>\n  //     </div>\n  //   </a>\n  //   </li>`).insertBefore($last);\n});\nwindow.onbeforeunload = () => {\n  //   console.log(\"关闭\");\n  const string = JSON.stringify(hashMap);\n  //   console.log(typeof hashMap);\n  //   console.log(hashMap);\n  //   console.log(typeof string);\n  //   console.log(string);\n  window.localStorage.setItem(\"x\", string);\n};\n\n$(document).on(\"keypress\", (e) => {\n  const { key } = e;\n  for (let i = 0; i < hashMap.length; i++) {\n    if (hashMap[i].logo.toLowerCase() === key) {\n      window.location.href = hashMap[i].url;\n      break;\n    }\n  }\n});\n"]}